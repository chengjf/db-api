<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-4.2.xsd">

	<!-- config -->
	<bean id="configuration" class="com.chengjf.sparkdemo.config.Configuration" scope="singleton">
		<constructor-arg name="path" value="config.properties" />
	</bean>
	<!-- filter -->
	<bean id="myAfterFilterImpl" class="com.chengjf.sparkdemo.filter.impl.MyAfterFilterImpl" scope="singleton">
	</bean>

	<bean id="myBeforeFilterImpl" class="com.chengjf.sparkdemo.filter.impl.MyBeforeFilterImpl" scope="singleton">
	</bean>

	<bean id="beforeFilter" class="com.chengjf.sparkdemo.filter.MyBeforeFilter" scope="singleton">
		<property name="filterList">
			<list>
				<ref bean="myBeforeFilterImpl" />
			</list>
		</property>
	</bean>

	<bean id="afterFilter" class="com.chengjf.sparkdemo.filter.MyAfterFilter" scope="singleton">
		<property name="filterList">
			<list>
				<ref bean="myAfterFilterImpl" />
			</list>
		</property>
	</bean>

	<!-- controller -->
	<bean id="todoController" class="com.chengjf.sparkdemo.module.todo.controller.TodoController" scope="singleton">
		<constructor-arg name="url" value="/todo" />
	</bean>
	<bean id="todoAddController" class="com.chengjf.sparkdemo.module.todo.controller.TodoAddController" scope="singleton">
		<constructor-arg name="url" value="/todo/add" />
	</bean>
	<bean id="indexController" class="com.chengjf.sparkdemo.module.index.controller.IndexController" scope="singleton">
		<constructor-arg name="url" value="/" />
	</bean>
	
	<!-- DAO -->
	<bean id="todoDao" class="com.chengjf.sparkdemo.module.todo.dao.impl.TodoMybatisDao" scope="singleton" lazy-init="true">
	</bean>	

</beans>